# ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

SMG Kafka í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            SMG Kafka ë°ì´í„° íŒŒì´í”„ë¼ì¸                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì™¸ë¶€ ì•±    â”‚â”€â”€â”€â–¶â”‚  Producer   â”‚â”€â”€â”€â–¶â”‚    Kafka    â”‚â”€â”€â”€â–¶â”‚  Consumer   â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                                      â”‚
                           â–¼                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   í´ë¼ì´ì–¸íŠ¸  â”‚â—€â”€â”€â”€â”‚  REST API   â”‚                    â”‚ PostgreSQL  â”‚
â”‚             â”‚    â”‚             â”‚                    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–²                                      â–²
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Kafka Managerâ”‚    â”‚   Adminer   â”‚
â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

### 1. ë©”ì‹œì§€ ë¸Œë¡œì»¤ ê³„ì¸µ

#### Apache Kafka
- **ì—­í• **: ì¤‘ì•™ ë©”ì‹œì§€ ë¸Œë¡œì»¤
- **í¬íŠ¸**: 9092 (ì™¸ë¶€), 29092 (ë‚´ë¶€)
- **íŒŒí‹°ì…˜**: í† í”½ë‹¹ 3ê°œ íŒŒí‹°ì…˜
- **ë³µì œ íŒ©í„°**: 1 (ë‹¨ì¼ ë¸Œë¡œì»¤ í™˜ê²½)

#### Apache Zookeeper
- **ì—­í• **: Kafka í´ëŸ¬ìŠ¤í„° ì½”ë””ë„¤ì´ì…˜
- **í¬íŠ¸**: 2181
- **ìƒíƒœ**: ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤

### 2. ë°ì´í„° ì²˜ë¦¬ ê³„ì¸µ

#### Producer (Node.js)
```typescript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Producer                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ KafkaJS í´ë¼ì´ì–¸íŠ¸               â”‚
â”‚ â€¢ ë©”ì‹œì§€ ë°œí–‰ API                  â”‚
â”‚ â€¢ í† í”½ë³„ ë©”ì‹œì§€ ë¼ìš°íŒ…             â”‚
â”‚ â€¢ ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„              â”‚
â”‚ â€¢ ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ê¸°ëŠ¥:**
- ì‚¬ìš©ì í™œë™ ë¡œê·¸ ìˆ˜ì§‘
- ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- ì—ëŸ¬ ë¡œê·¸ ìˆ˜ì§‘
- ì•Œë¦¼ ë©”ì‹œì§€ ë°œí–‰

#### Consumer (Node.js)
```typescript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Consumer                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ KafkaJS í´ë¼ì´ì–¸íŠ¸               â”‚
â”‚ â€¢ ë©”ì‹œì§€ ì†Œë¹„ ë° ì²˜ë¦¬              â”‚
â”‚ â€¢ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥                â”‚
â”‚ â€¢ ì˜¤í”„ì…‹ ê´€ë¦¬                      â”‚
â”‚ â€¢ ë°ë“œ ë ˆí„° í ì²˜ë¦¬                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ê¸°ëŠ¥:**
- ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì†Œë¹„
- ë°ì´í„° ë³€í™˜ ë° ì •ì œ
- PostgreSQL ì €ì¥
- ì—ëŸ¬ ë³µêµ¬ ë° ì¬ì²˜ë¦¬

### 3. ë°ì´í„° ì €ì¥ ê³„ì¸µ

#### PostgreSQL
```sql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          PostgreSQL                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ messages (ì›ë³¸ ë©”ì‹œì§€)           â”‚
â”‚ â€¢ user_activities (ì‚¬ìš©ì í™œë™)    â”‚
â”‚ â€¢ system_metrics (ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­)   â”‚
â”‚ â€¢ error_logs (ì—ëŸ¬ ë¡œê·¸)           â”‚
â”‚ â€¢ topic_status (í† í”½ ìƒíƒœ)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìŠ¤í‚¤ë§ˆ ì„¤ê³„:**
- UUID ê¸°ë°˜ Primary Key
- JSON íƒ€ì…ìœ¼ë¡œ ìœ ì—°í•œ ë°ì´í„° ì €ì¥
- ì¸ë±ìŠ¤ ìµœì í™” (timestamp, topic ë“±)
- íŒŒí‹°ì…˜ ì •ë³´ ì €ì¥

### 4. API ì„œë¹„ìŠ¤ ê³„ì¸µ

#### REST API (Express.js)
```typescript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            REST API                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Express.js ì›¹ í”„ë ˆì„ì›Œí¬         â”‚
â”‚ â€¢ Prisma ORM                       â”‚
â”‚ â€¢ ë°ì´í„° ì¡°íšŒ ì—”ë“œí¬ì¸íŠ¸           â”‚
â”‚ â€¢ ë©”ì‹œì§€ ë°œí–‰ ì—”ë“œí¬ì¸íŠ¸           â”‚
â”‚ â€¢ í†µê³„ ë° ëª¨ë‹ˆí„°ë§ API             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì—”ë“œí¬ì¸íŠ¸ êµ¬ì¡°:**
```
/health                    # ìƒíƒœ í™•ì¸
/api/messages             # ë©”ì‹œì§€ ì¡°íšŒ
/api/user-activities      # ì‚¬ìš©ì í™œë™ ì¡°íšŒ
/api/metrics              # ë©”íŠ¸ë¦­ ì¡°íšŒ
/api/errors               # ì—ëŸ¬ ë¡œê·¸ ì¡°íšŒ
/api/topics               # í† í”½ ìƒíƒœ ì¡°íšŒ
/api/stats                # ì „ì²´ í†µê³„
/api/produce/*            # ë©”ì‹œì§€ ë°œí–‰
```

### 5. ëª¨ë‹ˆí„°ë§ ê³„ì¸µ

#### Kafka Manager
- **ì—­í• **: Kafka í´ëŸ¬ìŠ¤í„° ëª¨ë‹ˆí„°ë§
- **í¬íŠ¸**: 9000
- **ê¸°ëŠ¥**: í† í”½, íŒŒí‹°ì…˜, ì»¨ìŠˆë¨¸ ê·¸ë£¹ ê´€ë¦¬

#### Adminer
- **ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
- **í¬íŠ¸**: 8080
- **ê¸°ëŠ¥**: SQL ì¿¼ë¦¬, ë°ì´í„° ë¸Œë¼ìš°ì§•

## ğŸ“Š ë°ì´í„° íë¦„

### 1. ë©”ì‹œì§€ ë°œí–‰ íë¦„

```
í´ë¼ì´ì–¸íŠ¸ ìš”ì²­
    â”‚
    â–¼
REST API ì—”ë“œí¬ì¸íŠ¸
    â”‚
    â–¼
Producer í´ë˜ìŠ¤
    â”‚
    â–¼
KafkaJS Producer
    â”‚
    â–¼
Kafka Topic (íŒŒí‹°ì…˜ë³„ ë¶„ì‚°)
    â”‚
    â–¼
ë©”ì‹œì§€ ì €ì¥ (íŒŒí‹°ì…˜ ë¡œê·¸)
```

### 2. ë©”ì‹œì§€ ì†Œë¹„ íë¦„

```
Kafka Topic í´ë§
    â”‚
    â–¼
KafkaJS Consumer
    â”‚
    â–¼
Consumer í´ë˜ìŠ¤ (ë©”ì‹œì§€ ì²˜ë¦¬)
    â”‚
    â–¼
ë°ì´í„° ë³€í™˜ ë° ê²€ì¦
    â”‚
    â–¼
Prisma ORM
    â”‚
    â–¼
PostgreSQL ì €ì¥
    â”‚
    â–¼
ì˜¤í”„ì…‹ ì»¤ë°‹
```

### 3. ë°ì´í„° ì¡°íšŒ íë¦„

```
í´ë¼ì´ì–¸íŠ¸ ìš”ì²­
    â”‚
    â–¼
REST API ì—”ë“œí¬ì¸íŠ¸
    â”‚
    â–¼
Prisma ORM ì¿¼ë¦¬
    â”‚
    â–¼
PostgreSQL ì¡°íšŒ
    â”‚
    â–¼
JSON ì‘ë‹µ ë°˜í™˜
```

## ğŸ”„ ë©”ì‹œì§€ ë¼ì´í”„ì‚¬ì´í´

### 1. ë©”ì‹œì§€ ìƒì„±
```typescript
// Producerì—ì„œ ë©”ì‹œì§€ ìƒì„±
const message = {
  topic: 'user-activities',
  key: userId,
  value: JSON.stringify({
    userId,
    action,
    timestamp: new Date().toISOString(),
    metadata: { ... }
  }),
  headers: {
    'content-type': 'application/json',
    'producer-id': 'smg-kafka-producer'
  }
}
```

### 2. ë©”ì‹œì§€ íŒŒí‹°ì…”ë‹
```
Key Hash â†’ Partition Assignment
user-001 â†’ Partition 0
user-002 â†’ Partition 1
user-003 â†’ Partition 2
```

### 3. ë©”ì‹œì§€ ì €ì¥
```
Kafka Log Structure:
/var/lib/kafka/data/user-activities-0/
â”œâ”€â”€ 00000000000000000000.log
â”œâ”€â”€ 00000000000000000000.index
â””â”€â”€ 00000000000000000000.timeindex
```

### 4. ë©”ì‹œì§€ ì†Œë¹„
```typescript
// Consumerì—ì„œ ë©”ì‹œì§€ ì†Œë¹„
consumer.run({
  eachMessage: async ({ topic, partition, message }) => {
    // ë©”ì‹œì§€ ì²˜ë¦¬ ë¡œì§
    await processMessage(topic, message)
    // ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
    await saveToDatabase(message)
  }
})
```

## ğŸ—ï¸ ìŠ¤ì¼€ì¼ë§ ì „ëµ

### ìˆ˜í‰ì  í™•ì¥

#### Kafka ë¸Œë¡œì»¤ í™•ì¥
```yaml
# docker-compose.yml í™•ì¥ ì˜ˆì‹œ
kafka-1:
  image: confluentinc/cp-kafka:7.4.0
  environment:
    KAFKA_BROKER_ID: 1
    # ... ê¸°íƒ€ ì„¤ì •

kafka-2:
  image: confluentinc/cp-kafka:7.4.0
  environment:
    KAFKA_BROKER_ID: 2
    # ... ê¸°íƒ€ ì„¤ì •
```

#### Consumer ì¸ìŠ¤í„´ìŠ¤ í™•ì¥
```bash
# ì—¬ëŸ¬ Consumer ì¸ìŠ¤í„´ìŠ¤ ì‹¤í–‰
pnpm run start:consumer &  # Consumer 1
pnpm run start:consumer &  # Consumer 2
pnpm run start:consumer &  # Consumer 3
```

#### íŒŒí‹°ì…˜ í™•ì¥
```bash
# íŒŒí‹°ì…˜ ìˆ˜ ì¦ê°€
kafka-topics --bootstrap-server localhost:9092 \
  --alter --topic user-activities --partitions 6
```

### ìˆ˜ì§ì  í™•ì¥

#### ë¦¬ì†ŒìŠ¤ ìµœì í™”
```typescript
// Producer ì„±ëŠ¥ íŠœë‹
const producer = kafka.producer({
  batchSize: 65536,      // ë°°ì¹˜ í¬ê¸° ì¦ê°€
  lingerMs: 50,          // ë°°ì¹˜ ëŒ€ê¸° ì‹œê°„
  compression: 'gzip',   // ì••ì¶• í™œì„±í™”
  maxInFlightRequests: 5 // ë™ì‹œ ìš”ì²­ ìˆ˜ ì¦ê°€
})

// Consumer ì„±ëŠ¥ íŠœë‹
const consumer = kafka.consumer({
  maxBytesPerPartition: 2097152, // 2MB
  maxWaitTimeInMs: 1000,         // ëŒ€ê¸° ì‹œê°„ ë‹¨ì¶•
  sessionTimeout: 45000          // ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì¦ê°€
})
```

## ğŸ”’ ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
```
ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬
    â”‚
    â–¼ (HTTPS/TLS)
API Gateway / Load Balancer
    â”‚
    â–¼ (Internal Network)
SMG Kafka Network
    â”‚
    â”œâ”€ Kafka (9092)
    â”œâ”€ PostgreSQL (5432)
    â””â”€ API Server (3000)
```

### ì¸ì¦ ë° ê¶Œí•œ
```typescript
// í–¥í›„ êµ¬í˜„ ì˜ˆì •
interface SecurityConfig {
  kafka: {
    sasl: {
      mechanism: 'PLAIN' | 'SCRAM-SHA-256'
      username: string
      password: string
    }
    ssl: boolean
  }
  api: {
    jwt: {
      secret: string
      expiration: string
    }
    rateLimit: {
      windowMs: number
      max: number
    }
  }
}
```

## ğŸ“ˆ ì„±ëŠ¥ íŠ¹ì„±

### ì²˜ë¦¬ëŸ‰ ëª©í‘œ
- **Producer**: 10,000 messages/sec
- **Consumer**: 10,000 messages/sec
- **API**: 1,000 requests/sec
- **Latency**: < 100ms (end-to-end)

### ë¦¬ì†ŒìŠ¤ ìš”êµ¬ì‚¬í•­
```yaml
ìµœì†Œ ìš”êµ¬ì‚¬í•­:
  CPU: 2 cores
  Memory: 4GB RAM
  Storage: 20GB SSD

ê¶Œì¥ ì‚¬ì–‘:
  CPU: 4+ cores
  Memory: 8GB+ RAM
  Storage: 100GB+ SSD
  Network: 1Gbps
```

## ğŸ”„ ì¥ì•  ë³µêµ¬

### ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ ë° ëŒ€ì‘

#### Kafka ë¸Œë¡œì»¤ ì¥ì• 
```
ì¥ì•  ë°œìƒ
    â”‚
    â–¼
Producer/Consumer ì¬ì—°ê²° ì‹œë„
    â”‚
    â–¼
ë°±ì—… ë¸Œë¡œì»¤ë¡œ ìë™ ì „í™˜
    â”‚
    â–¼
ë©”ì‹œì§€ ë³µì œë¥¼ í†µí•œ ë°ì´í„° ë³´ì¡´
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì¥ì• 
```
ì¥ì•  ë°œìƒ
    â”‚
    â–¼
Consumer ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘ë‹¨
    â”‚
    â–¼
Kafkaì— ë©”ì‹œì§€ ë³´ì¡´ (7ì¼)
    â”‚
    â–¼
ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬ í›„ ì¬ì²˜ë¦¬
```

#### API ì„œë²„ ì¥ì• 
```
ì¥ì•  ë°œìƒ
    â”‚
    â–¼
Load Balancer ê±´ê°• ì²´í¬ ì‹¤íŒ¨
    â”‚
    â–¼
íŠ¸ë˜í”½ì„ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë¼ìš°íŒ…
    â”‚
    â–¼
Auto-scalingìœ¼ë¡œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
```

## ğŸ”§ ê°œë°œ í™˜ê²½ vs í”„ë¡œë•ì…˜ í™˜ê²½

### ê°œë°œ í™˜ê²½
```yaml
íŠ¹ì§•:
  - ë‹¨ì¼ ë…¸ë“œ êµ¬ì„±
  - ë°ì´í„° ë³´ì¡´ ê¸°ê°„: 1ì‹œê°„
  - ë¡œê·¸ ë ˆë²¨: DEBUG
  - ëª¨ë‹ˆí„°ë§ ë„êµ¬ í™œì„±í™”

ì„¤ì •:
  KAFKA_AUTO_CREATE_TOPICS_ENABLE: true
  LOG_LEVEL: debug
  KAFKA_LOG_RETENTION_HOURS: 1
```

### í”„ë¡œë•ì…˜ í™˜ê²½
```yaml
íŠ¹ì§•:
  - ë‹¤ì¤‘ ë…¸ë“œ êµ¬ì„± (ìµœì†Œ 3ëŒ€)
  - ë°ì´í„° ë³´ì¡´ ê¸°ê°„: 7ì¼
  - ë¡œê·¸ ë ˆë²¨: INFO
  - ë³´ì•ˆ ê°•í™”

ì„¤ì •:
  KAFKA_AUTO_CREATE_TOPICS_ENABLE: false
  LOG_LEVEL: info
  KAFKA_LOG_RETENTION_HOURS: 168
  SECURITY_ENABLED: true
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### í•µì‹¬ ë©”íŠ¸ë¦­
```typescript
interface SystemMetrics {
  kafka: {
    messageRate: number        // ì´ˆë‹¹ ë©”ì‹œì§€ ìˆ˜
    consumerLag: number       // Consumer ì§€ì—°
    diskUsage: number         // ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
    partitionCount: number    // íŒŒí‹°ì…˜ ìˆ˜
  }
  
  database: {
    connectionCount: number   // ì—°ê²° ìˆ˜
    queryLatency: number     // ì¿¼ë¦¬ ì§€ì—°ì‹œê°„
    storageUsage: number     // ì €ì¥ì†Œ ì‚¬ìš©ë¥ 
  }
  
  api: {
    requestRate: number      // ì´ˆë‹¹ ìš”ì²­ ìˆ˜
    responseTime: number     // ì‘ë‹µ ì‹œê°„
    errorRate: number        // ì—ëŸ¬ìœ¨
  }
}
```

### ì•Œë¦¼ ê·œì¹™
```yaml
alerts:
  - name: HighConsumerLag
    condition: consumer_lag > 10000
    severity: warning
    
  - name: KafkaBrokerDown
    condition: kafka_broker_up == 0
    severity: critical
    
  - name: DatabaseConnectionFailure
    condition: db_connection_errors > 10
    severity: critical
    
  - name: HighAPIErrorRate
    condition: api_error_rate > 5%
    severity: warning
```

ì´ ì•„í‚¤í…ì²˜ëŠ” í™•ì¥ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì¸ ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, í•„ìš”ì— ë”°ë¼ ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.